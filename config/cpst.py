'''
Description: Do not Edit
Author: hao.lin (voyah perception)
Date: 2025-07-13 16:29:20
LastEditors: Do not Edit
LastEditTime: 2025-07-13 16:29:22
'''
import numpy as np

row_angles = np.array([
    -0.205603, -0.180986, -0.161799, -0.146251, -0.280455, -0.438055, -0.342784, -0.237526,
    -0.113796, -0.111701, -0.110130, -0.108380, -0.133868, -0.125140, -0.119903, -0.116410,
    -0.099661, -0.097738, -0.096183, -0.094573, -0.106472, -0.104907, -0.103167, -0.101502,
    -0.085521, -0.083776, -0.082031, -0.080286, -0.092502, -0.090757, -0.089012, -0.087267,
    -0.071558, -0.069813, -0.068068, -0.066323, -0.078703, -0.076958, -0.075213, -0.073468,
    -0.057596, -0.055851, -0.054106, -0.052361, -0.064758, -0.063013, -0.061268, -0.059523,
    -0.043633, -0.041758, -0.040173, -0.038428, -0.050615, -0.048870, -0.047125, -0.045380,
    -0.029496, -0.027751, -0.026006, -0.024261, -0.036475, -0.034910, -0.033165, -0.031420,
    -0.015533, -0.013788, -0.012043, -0.010298, -0.022513, -0.020768, -0.019023, -0.017278,
    -0.001571, 0.000175, 0.001920, 0.003665, -0.008552, -0.006807, -0.005062, -0.003317,
    0.012391, 0.014136, 0.015881, 0.017626, 0.005411, 0.007156, 0.008901, 0.010646,
    0.026379, 0.028124, 0.029869, 0.031614, 0.019384, 0.021129, 0.022874, 0.024619,
    0.040528, 0.042223, 0.043968, 0.045713, 0.033335, 0.035365, 0.037050, 0.038835,
    0.054488, 0.056233, 0.057978, 0.059723, 0.047488, 0.049233, 0.050978, 0.052723,
    0.069320, 0.072801, 0.077354, 0.082385, 0.061608, 0.063353, 0.065098, 0.066843,
    0.130028, 0.157443, 0.201235, 0.262509, 0.088520, 0.095646, 0.104369, 0.114840
])
z_sensor = 2.05
d_thr = 0.3
cpst = []

for l in range(len(row_angles)):
    sum_dd = 0
    i = 0
    while sum_dd <= d_thr:
        i += 1
        if l + i >= len(row_angles):
            break
        tan1 = np.tan(row_angles[l])
        tan2 = np.tan(row_angles[l + i])
        if tan1 == tan2:
            dd = 0
        else:
            dd = abs(z_sensor / tan1 - z_sensor / tan2)
        sum_dd += dd
    cpst.append(i)

print(cpst)